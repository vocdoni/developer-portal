"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[6569],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>h});var a=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=a.createContext({}),r=function(e){var n=a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},d=function(e){var n=r(e.components);return a.createElement(c.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=r(t),h=o,m=u["".concat(c,".").concat(h)]||u[h]||p[h]||i;return t?a.createElement(m,s(s({ref:n},d),{},{components:t})):a.createElement(m,s({ref:n},d))}));function h(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,s=new Array(i);s[0]=u;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,s[1]=l;for(var r=2;r<i;r++)s[r]=t[r];return a.createElement.apply(null,s)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},16192:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>r});var a=t(87462),o=(t(67294),t(3905));const i={},s=void 0,l={unversionedId:"sdk/sdk",id:"sdk/sdk",title:"sdk",description:"npm",source:"@site/docs/sdk/sdk.md",sourceDirName:"sdk",slug:"/sdk/",permalink:"/sdk/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"sdk",next:{title:"AccountAPI",permalink:"/sdk/AccountAPI"}},c={},r=[{value:"Live preview",id:"live-preview",level:2},{value:"Disclaimer",id:"disclaimer",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"SDK Usage",id:"sdk-usage",level:2},{value:"Environment",id:"environment",level:3},{value:"Staging",id:"staging",level:4},{value:"Development",id:"development",level:4},{value:"Registering account",id:"registering-account",level:3},{value:"Vocdoni tokens; faucet &amp; balance",id:"vocdoni-tokens-faucet--balance",level:3},{value:"Creating a voting process",id:"creating-a-voting-process",level:3},{value:"Other election types",id:"other-election-types",level:3},{value:"Quadratic voting",id:"quadratic-voting",level:4},{value:"Approval voting",id:"approval-voting",level:4},{value:"Ranked voting",id:"ranked-voting",level:4},{value:"Other election functionalities",id:"other-election-functionalities",level:3},{value:"Estimate election cost",id:"estimate-election-cost",level:4},{value:"Calculate the real election cost",id:"calculate-the-real-election-cost",level:4},{value:"Fetching election info",id:"fetching-election-info",level:3},{value:"Changing election status",id:"changing-election-status",level:3},{value:"Pause",id:"pause",level:4},{value:"Cancel",id:"cancel",level:4},{value:"End",id:"end",level:4},{value:"Continue",id:"continue",level:4},{value:"Voting to a process",id:"voting-to-a-process",level:3},{value:"Check if a user is in census",id:"check-if-a-user-is-in-census",level:4},{value:"Check if a user has already voted",id:"check-if-a-user-has-already-voted",level:4},{value:"Get how many times the user can submit a vote (vote rewrite)",id:"get-how-many-times-the-user-can-submit-a-vote-vote-rewrite",level:4},{value:"Check if a user is able to vote",id:"check-if-a-user-is-able-to-vote",level:4},{value:"Vote",id:"vote",level:4},{value:"Other SDK functionalities",id:"other-sdk-functionalities",level:3},{value:"Generate a random Wallet",id:"generate-a-random-wallet",level:4},{value:"Generate deterministic Wallet from data",id:"generate-deterministic-wallet-from-data",level:4},{value:"Advanced",id:"advanced",level:3},{value:"Use a CSP to validate participants in an election",id:"use-a-csp-to-validate-participants-in-an-election",level:4},{value:"Census3",id:"census3",level:2},{value:"What is Census3?",id:"what-is-census3",level:3},{value:"Using Census3",id:"using-census3",level:3},{value:"Creating a Census3 client",id:"creating-a-census3-client",level:4},{value:"Getting basic service information",id:"getting-basic-service-information",level:4},{value:"Getting tokens information and creating them",id:"getting-tokens-information-and-creating-them",level:4},{value:"Getting strategies information and creating them",id:"getting-strategies-information-and-creating-them",level:4},{value:"Getting censuses information and creating them",id:"getting-censuses-information-and-creating-them",level:4},{value:"Examples",id:"examples",level:2},{value:"Docs",id:"docs",level:2},{value:"License",id:"license",level:2}],d={toc:r};function p(e){let{components:n,...t}=e;return(0,o.kt)("wrapper",(0,a.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",{align:"center",width:"100%"},(0,o.kt)("img",{src:"https://docs.vocdoni.io/Logotype.svg"})),(0,o.kt)("div",{align:"center"},(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://img.shields.io/npm/v/%40vocdoni%2Fsdk",alt:"npm"}),"\n",(0,o.kt)("img",{parentName:"p",src:"https://img.shields.io/github/commit-activity/m/vocdoni/vocdoni-sdk",alt:"GitHub commit activity (main)"}),"\n",(0,o.kt)("a",{parentName:"p",href:"https://vocdoni.github.io/vocdoni-sdk/"},(0,o.kt)("img",{parentName:"a",src:"https://github.com/vocdoni/vocdoni-sdk/actions/workflows/examples.yml/badge.svg",alt:"Example workflow"})),"\n",(0,o.kt)("img",{parentName:"p",src:"https://github.com/vocdoni/vocdoni-sdk/actions/workflows/main.yml/badge.svg",alt:"Main workflow"}),"\n",(0,o.kt)("a",{parentName:"p",href:"https://discord.gg/xFTh8Np2ga"},(0,o.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/discord-join%20chat-blue.svg",alt:"Join Discord"})),"\n",(0,o.kt)("a",{parentName:"p",href:"https://twitter.com/vocdoni"},(0,o.kt)("img",{parentName:"a",src:"https://img.shields.io/twitter/follow/vocdoni.svg?style=social&label=Follow",alt:"Twitter Follow"})))),(0,o.kt)("h1",{id:"vocdoni-sdk"},"Vocdoni SDK"),(0,o.kt)("p",null,"The Vocdoni SDK is a convenient way to interact with the Vocdoni Protocol\nthrough ",(0,o.kt)("a",{parentName:"p",href:"https://vocdoni.io/api"},"the new API"),", allowing anyone to create, manage and\nparticipate in voting processes and collective decision-making."),(0,o.kt)("h2",{id:"live-preview"},"Live preview"),(0,o.kt)("p",null,"You can test the SDK ",(0,o.kt)("a",{parentName:"p",href:"https://vocdoni.github.io/vocdoni-sdk/"},"here"),"."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/vocdoni/vocdoni-sdk/main/docs/images/cra.png",alt:"Live preview"})),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"No funds needed in your wallet"),": Metamask or Walletconnect are only used for\nsigning transactions that are sent to the Vocdoni chain! Testing tokens in ",(0,o.kt)("inlineCode",{parentName:"p"},"dev"),"\nenvironment are automatically sent from faucet once the account is created.")),(0,o.kt)("p",null,"See ",(0,o.kt)("a",{parentName:"p",href:"#examples"},"examples")," for more examples."),(0,o.kt)("h2",{id:"disclaimer"},"Disclaimer"),(0,o.kt)("p",null,"The Vocdoni SDK and the underlying API is WIP. Please beware that it can be broken\nat any time if the release is ",(0,o.kt)("inlineCode",{parentName:"p"},"alpha")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"beta"),". We encourage to review this\nrepository for any change."),(0,o.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("p",null,"You'll need a working ",(0,o.kt)("a",{parentName:"p",href:"https://nodejs.org"},"nodejs")," environment, but other than that, you're\nfree to use any package manager (either npm, yarn, pnpm...). Let's start by\nadding the SDK to your project:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# with yarn\nyarn add @vocdoni/sdk\n# with npm\nnpm i @vocdoni/sdk\n# with pnpm\npnpm add @vocdoni/sdk\n")),(0,o.kt)("p",null,"For creating elections or vote on them, blockchain transactions need to be\nbuild, thus a signer is required. Any kind of standard ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/ethers-io/ethers.js"},"ethers")," signer should\nwork."),(0,o.kt)("p",null,"This project has been bundled into many formats in order for you to\nimport it based on the environment you're using it. When importing it via\n",(0,o.kt)("inlineCode",{parentName:"p"},"@vocdoni/sdk")," it will choose a version based on your current environment\n(commonjs or esm). There's also another UMD version which can be accessed via\n",(0,o.kt)("inlineCode",{parentName:"p"},"@vocdoni/sdk/umd")," in case you need it."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// Will use the correct version based on your environment\nimport { VocdoniSDKClient } from '@vocdoni/sdk'\n// UMD version\nimport SDK from '@vocdoni/sdk/umd'\n")),(0,o.kt)("p",null,"You can see a working ESM example ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vocdoni/vocdoni-sdk/blob/main/examples/esm"},"in the examples folder"),"."),(0,o.kt)("h2",{id:"sdk-usage"},"SDK Usage"),(0,o.kt)("p",null,"The entry point is the SDK constructor, it will instantiate a new client\nconnected to the API endpoint corresponding to ",(0,o.kt)("inlineCode",{parentName:"p"},"dev")," (development) or ",(0,o.kt)("inlineCode",{parentName:"p"},"stg")," (staging)."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"For this readme examples, the signer bootstrapping will be ignored and you'll\njust see a ",(0,o.kt)("inlineCode",{parentName:"p"},"signer")," constant.")),(0,o.kt)("h3",{id:"environment"},"Environment"),(0,o.kt)("h4",{id:"staging"},"Staging"),(0,o.kt)("p",null,"This is the ",(0,o.kt)("strong",{parentName:"p"},"recommended")," environment for most testing use cases, since the\n",(0,o.kt)("inlineCode",{parentName:"p"},"dev")," environment is more subject to blockchain resets and downtimes than\nthe ",(0,o.kt)("inlineCode",{parentName:"p"},"stg")," one."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const client = new VocdoniSDKClient({\n  env: EnvOptions.STG, // mandatory, can be 'dev' or 'stg'\n  wallet: signer, // optional, the signer used (Metamask, Walletconnect)\n})\n")),(0,o.kt)("h4",{id:"development"},"Development"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const client = new VocdoniSDKClient({\n  env: EnvOptions.DEV, // mandatory, can be 'dev' or 'stg'\n  wallet: signer, // optional, the signer used (Metamask, Walletconnect)\n})\n")),(0,o.kt)("h3",{id:"registering-account"},"Registering account"),(0,o.kt)("p",null,"Before creating any new processes, you should register your account against\nour blockchain (vochain):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  const info = await client.createAccount()\n  console.log(info) // will show account information\n})();\n")),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"createAccount")," method will try to fetch an existing account first and, if\nit does not exist, it will register it against the blockchain."),(0,o.kt)("p",null,"The account to be registered will be the one of the signer specified in the\nconstructor."),(0,o.kt)("p",null,"You can safely use ",(0,o.kt)("inlineCode",{parentName:"p"},"createAccount")," to fetch any account information, but you can\nalso decide to just fetch it, without falling back to an account registration:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  const info = await client.fetchAccountInfo()\n  console.log(info) // shows info (only if account exists, otherwise throws error)\n})();\n")),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"createAccount")," also accepts some information about the account:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  const account = new Account({\n    languages: ['es'],\n    name: {\n      es: 'Nombre de la cuenta',\n      default: 'Account name',\n    },\n    description: 'Description of the account',\n    feed: 'https://feed.io',\n    avatar: 'https://avatar.io',\n    header: 'https://header.io',\n    logo: 'https://logo.io',\n    meta: [\n      { key: 'twitter', value: 'https://twitter.com/@orghandle' },\n      { key: 'someIpfsValue', value: 'ipfs://QmXxgLNRSeK6jtFkJ9TsL8nYxFnJ8RKa2xXHUFKGankX6k' },\n      { key: 'someArbitraryData', value: [123, 456] },\n      { key: 'someEmptyData', value: {} },\n    ],\n  });\n  const info = await client.createAccount({ account })\n})();\n")),(0,o.kt)("h3",{id:"vocdoni-tokens-faucet--balance"},"Vocdoni tokens; faucet & balance"),(0,o.kt)("p",null,"Accounts require Vocdoni tokens in order to be able to register against our\nblockchain. The process above will automatically fetch some tokens from a faucet\n",(0,o.kt)("strong",{parentName:"p"},"under development"),". For production environments, you should contact us (Vocdoni)\nfor a byte64 string faucet, and specify it when creating your account:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'(async () => {\n  const info = await client.createAccount({\n    faucetPackage: "<b64string>"\n  })\n})();\n')),(0,o.kt)("p",null,"Accounts also require Vocdoni tokens in order to create new processes."),(0,o.kt)("p",null,"You can check the balance thanks to the previous methods (",(0,o.kt)("inlineCode",{parentName:"p"},"createAccount")," and/or\n",(0,o.kt)("inlineCode",{parentName:"p"},"fetchAccountInfo"),") and, under development, you can request new tokens thanks\nto the included faucet:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  const info = await client.createAccount()\n  if (info.balance === 0) {\n    await client.collectFaucetTokens()\n  }\n})();\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Note: the ",(0,o.kt)("inlineCode",{parentName:"p"},"collectFaucetTokens")," method only works under development environment\nand for accounts with not enough tokens to create new processes.")),(0,o.kt)("h3",{id:"creating-a-voting-process"},"Creating a voting process"),(0,o.kt)("p",null,"After you successfully registered your account against Vocdoni's blockchain, you\ncan start creating processes."),(0,o.kt)("p",null,"A process will require a census of people who will vote it. Let's start creating\nit:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const census = new PlainCensus()\n// accepts any ethereum-alike addresses\ncensus.add(address)\ncensus.add('0x0000000000000000000000000000000000000000')\n(async () => {\n  // random wallet, for example purposes\n  census.add(await Wallet.createRandom().getAddress())\n})();\n")),(0,o.kt)("p",null,"After you got all the addresses for your census, you may as well create the\nprocess instance:"),(0,o.kt)("p",null,"The simplest form to create an election with the minimum parameters is:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const election = Election.from({\n  title: 'Election title',\n  description: 'Election description',\n  endDate: new Date('2023-01-23 23:23:23'),\n  census,\n})\n")),(0,o.kt)("p",null,"Check out the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vocdoni/vocdoni-sdk/blob/main/src/types/election/election.ts#23"},"election params interface")," to see all the allowed params. There are several\noptions for creating custom types of elections or voting methods:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const election = Election.from({\n  title: {\n    en: 'This is a test in english',\n    es: 'Esto es un test en castellano',\n    default: 'This is the default title',\n  },\n  description: 'Election description',\n  // a header image for your election (this is for example purposes; avoid using random sources)\n  header: 'https://source.unsplash.com/random/2048x600',\n  // a stream uri image for your election (this is for example purposes; avoid using random sources)\n  streamUri: 'https://source.unsplash.com/random/2048x600',\n  startDate: new Date('2023-01-23 12:00:00'),\n  endDate: new Date('2023-01-23 23:23:23'),\n  census,\n  electionType: {\n    autoStart: true, // if the election can start automatically at start date\n    interruptible: true, // if the election can be paused or ended\n    dynamicCensus: false, // if the census can be changed\n    secretUntilTheEnd: false, // if the election has to be secret until end date\n    anonymous: false, // if the election is anonymous\n  },\n  voteType: {\n    uniqueChoices: false, // if the choices are unique when voting\n    maxVoteOverwrites: 0, // number of times a vote can be overwritten\n    costFromWeight: false, // for cuadrating voting\n    costExponent: 10000, // for cuadrating voting\n  }\n})\n")),(0,o.kt)("p",null,"Of course, you will also need some questions in this voting process, how would people\nvote otherwise?"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"election.addQuestion('Ain\\'t this process awesome?', 'Question description', [\n  {\n    title: 'Yes',\n    value: 0,\n  },\n  {\n    title: 'No',\n    value: 1,\n  },\n]).addQuestion('How old are you?', 'Question description', [\n  {\n    title: 'Child (0-9 yo)',\n    value: 0,\n  },\n  {\n    title: 'Kid (10-16 yo)',\n    value: 1,\n  },\n  {\n    title: 'Adult (17-60 yo)',\n    value: 2,\n  },\n  {\n    title: 'Elder (60+ yo)',\n    value: 3,\n  },\n])\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"If you're a developer, maybe the value set to zero in Yes (and vice-versa)\nconfuses you. Note that this is a mapping of values; people voting on Yes will\nproperly set the value as specified (zero in this case), thus printing the\nresults as you expect.")),(0,o.kt)("p",null,"You can finally confirm the transaction in the blockchain by just calling\n",(0,o.kt)("inlineCode",{parentName:"p"},"createElection"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  const id = await client.createElection(election)\n  console.log(id) // will show the created election id\n})();\n")),(0,o.kt)("p",null,"The election id you got there will be the one you use to access the election.\nAfter a few seconds of creating it, you should be able to check it on\n",(0,o.kt)("a",{parentName:"p",href:"https://explorer.vote"},"our explorer")," (or the ",(0,o.kt)("a",{parentName:"p",href:"https://dev.explorer.vote"},"dev one")," if\nyou're using the development environment)."),(0,o.kt)("h3",{id:"other-election-types"},"Other election types"),(0,o.kt)("h4",{id:"quadratic-voting"},"Quadratic voting"),(0,o.kt)("p",null,"Here is a ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vocdoni/vocdoni-sdk/blob/main/examples/typescript/src/quadratic.ts"},"full working example")," of how to create a quadratic voting election.\nMore information can be found in the ",(0,o.kt)("a",{parentName:"p",href:"https://developer.vocdoni.io/protocol/ballot#quadratic-voting"},"documentation"),"."),(0,o.kt)("h4",{id:"approval-voting"},"Approval voting"),(0,o.kt)("p",null,"Here is a ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vocdoni/vocdoni-sdk/blob/main/examples/typescript/src/approval.ts"},"full working example")," of how to create an approval voting election.\nMore information can be found in the ",(0,o.kt)("a",{parentName:"p",href:"https://developer.vocdoni.io/protocol/ballot#multiquestion"},"documentation"),"."),(0,o.kt)("h4",{id:"ranked-voting"},"Ranked voting"),(0,o.kt)("p",null,"Here is a ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vocdoni/vocdoni-sdk/blob/main/examples/typescript/src/ranked.ts"},"full working example")," of how to create a ranked voting election.\nMore information can be found in the ",(0,o.kt)("a",{parentName:"p",href:"https://developer.vocdoni.io/protocol/ballot#linear-weighted-choice"},"documentation"),"."),(0,o.kt)("h3",{id:"other-election-functionalities"},"Other election functionalities"),(0,o.kt)("h4",{id:"estimate-election-cost"},"Estimate election cost"),(0,o.kt)("p",null,"This is a fast function (most times will resolve automatically) which allows to estimate a election price in tokens:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  const price = await client.estimateElectionCost(election) // Should be an UnpublishedElection\n  console.log(price) // shows the estimation price\n})();\n")),(0,o.kt)("h4",{id:"calculate-the-real-election-cost"},"Calculate the real election cost"),(0,o.kt)("p",null,"This function returns the exact election price in tokens:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  const price = await client.calculateElectionCost(election) // Should be an UnpublishedElection\n  console.log(price) // shows the real price\n})();\n")),(0,o.kt)("h3",{id:"fetching-election-info"},"Fetching election info"),(0,o.kt)("p",null,"You can always access a election information and metadata using ",(0,o.kt)("inlineCode",{parentName:"p"},"fetchElection"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  const info = await client.fetchElection(id)\n  console.log(info) // shows election information and metadata\n})();\n\n// or...\n(async () => {\n  client.setElectionId(id)\n  const info = await client.fetchElection()\n  console.log(info) // shows election information and metadata\n})();\n")),(0,o.kt)("p",null,"See the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vocdoni/vocdoni-sdk/blob/main/src/types/election/published.ts"},"PublishedElection class")," details for more information\nabout the returning object."),(0,o.kt)("p",null,"You can also fetch all the elections created for a given account using ",(0,o.kt)("inlineCode",{parentName:"p"},"fetchElections"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  const elections = await client.fetchElections('0x3d0380f4dcc8aa87be30ef0e38f56dfefeb1cfad')\n  console.log(elections) // Array of PublishedElection\n})();\n\n// it can be paginated using the second parameter\n(async () => {\n  const elections = await client.fetchElections('0x3d0380f4dcc8aa87be30ef0e38f56dfefeb1cfad', 2)\n  console.log(elections) // Array of PublishedElection\n})();\n")),(0,o.kt)("h3",{id:"changing-election-status"},"Changing election status"),(0,o.kt)("p",null,"See the ",(0,o.kt)("a",{parentName:"p",href:"https://developer.vocdoni.io/get-started/intro#election-lifecycle-states"},"Election lifecycle states")," details for more information\nabout the election status and the possible status changes once the election is created."),(0,o.kt)("h4",{id:"pause"},"Pause"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  await client.pauseElection(id)\n  const election = await client.fetchElection(id)\n  console.log(election.status) // Matches ElectionStatus.PAUSED\n})();\n")),(0,o.kt)("h4",{id:"cancel"},"Cancel"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  await client.cancelElection(id)\n  const election = await client.fetchElection(id)\n  console.log(election.status) // Matches ElectionStatus.CANCELED\n})();\n")),(0,o.kt)("h4",{id:"end"},"End"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  await client.endElection(id)\n  const election = await client.fetchElection(id)\n  console.log(election.status) // Matches ElectionStatus.ENDED\n})();\n")),(0,o.kt)("h4",{id:"continue"},"Continue"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  await client.continueElection(id)\n  const election = await client.fetchElection(id)\n  console.log(election.status) // Matches ElectionStatus.READY\n})();\n")),(0,o.kt)("h3",{id:"voting-to-a-process"},"Voting to a process"),(0,o.kt)("h4",{id:"check-if-a-user-is-in-census"},"Check if a user is in census"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  const isInCensus = await client.isInCensus();\n  console.log(isInCensus) // true or false\n})();\n")),(0,o.kt)("h4",{id:"check-if-a-user-has-already-voted"},"Check if a user has already voted"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  const hasAlreadyVoted = await client.hasAlreadyVoted();\n  console.log(hasAlreadyVoted) // returns the vote identifier or null\n})();\n")),(0,o.kt)("h4",{id:"get-how-many-times-the-user-can-submit-a-vote-vote-rewrite"},"Get how many times the user can submit a vote (vote rewrite)"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  const votesLeft = await client.votesLeftCount();\n  console.log(votesLeft) // number of times the user can submit his vote\n})();\n")),(0,o.kt)("h4",{id:"check-if-a-user-is-able-to-vote"},"Check if a user is able to vote"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  const isAbleToVote = await client.isAbleToVote();\n  console.log(isAbleToVote) // true or false\n})();\n")),(0,o.kt)("h4",{id:"vote"},"Vote"),(0,o.kt)("p",null,"To vote a process you only need two things: the process id to vote to, and the\noption (or options) being voted:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'(async () => {\n  client.setElectionId(id)\n  // votes "Yes" and "Adult (17-60 yo)"\n  const vote = new Vote([0, 2]);\n  const voteId = await client.submitVote(vote)\n})();\n')),(0,o.kt)("h3",{id:"other-sdk-functionalities"},"Other SDK functionalities"),(0,o.kt)("h4",{id:"generate-a-random-wallet"},"Generate a random Wallet"),(0,o.kt)("p",null,"You can use the ",(0,o.kt)("inlineCode",{parentName:"p"},"generateRandomWallet")," function to generate a random Wallet and assign it to the client.\nThis function returns the private key of the Wallet."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const privateKey = client.generateRandomWallet();\nconsole.log(privateKey) // the private key of the wallet\n")),(0,o.kt)("h4",{id:"generate-deterministic-wallet-from-data"},"Generate deterministic Wallet from data"),(0,o.kt)("p",null,"For some cases where the voters don't have an owned Wallet, we can generate a deterministic\nWallet based on arbitrary data, like, for example, the user and hash password from a custom CRM."),(0,o.kt)("p",null,"Here is an example where a Wallet is generated using the username and the hash of the password\nwhich we would use to identify the user in our platform. This Wallet can then be used for the\ncensus and for voting purposes."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"// 9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08 is the sha256 of 'test'\nconst userWallet = VocdoniSDKClient.generateWalletFromData(['user1', '9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08']);\nconsole.log(userWallet) // address is 0x8AF1b3EDB817b5854e3311d583905a3421F49829\n")),(0,o.kt)("h3",{id:"advanced"},"Advanced"),(0,o.kt)("h4",{id:"use-a-csp-to-validate-participants-in-an-election"},"Use a CSP to validate participants in an election"),(0,o.kt)("p",null,"The SDK comes with an implementation of the common handler API of a CSP which is explained\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vocdoni/blind-csp#api"},"here"),"."),(0,o.kt)("p",null,"For creating a CSP based election, a ",(0,o.kt)("inlineCode",{parentName:"p"},"CspCensus")," has to be set to the election. This census need the\nCSP public key (",(0,o.kt)("inlineCode",{parentName:"p"},"CSP_PUBKEY")," in the example) and the CSP Url (",(0,o.kt)("inlineCode",{parentName:"p"},"CSP_URL")," in the example). "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const election = Election.from({\n  title: 'Election title',\n  description: 'Election description',\n  // a header image for your process (this is for example purposes; avoid using random sources)\n  header: 'https://source.unsplash.com/random/2048x600',\n  endDate: new Date('2023-01-23 23:23:23'),\n  census: new CspCensus(CSP_PUBKEY, CSP_URL),\n})\n// The election can be created the same way from here...\n")),(0,o.kt)("p",null,"The SDK comes with some wrappers to get a blind signature from the CSP in order to vote.\nThe complete flow is shown here:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"// Client initialization\nconst client = new VocdoniSDKClient({\n  env: EnvOptions.DEV,\n  wallet: signer, // the signer used (Metamask, Walletconnect)\n  electionId: '934234...', // The election identifier (has to be a CSP configured election)\n})\n\n// Auth steps for the CSP (can vary of the type of the CSP)\nconst step0 = (await client.cspStep(0, ['Name test'])) as ICspIntermediateStepResponse;\nconst step1 = (await client.cspStep(\n  1,\n  [step0.response.reduce((acc, v) => +acc + +v, 0).toString()],\n  step0.authToken\n)) as ICspFinalStepResponse;\n\n// Get the blind signature\nconst signature = await client.cspSign(signer.address, step1.token);\n\n// Get the vote based on the signature\nconst vote = client.cspVote(new Vote([index % 2]), signature);\n\n// Vote\nconst voteId = await client.submitVote(vote);\n")),(0,o.kt)("h2",{id:"census3"},"Census3"),(0,o.kt)("h3",{id:"what-is-census3"},"What is Census3?"),(0,o.kt)("p",null,"Census3 is an API service to create censuses for elections with holders of a single token or a combination of them.\nThe service creates a list of holder addresses and balances and keeps it updated in real time, for every registered token.\nThen, it allows creating a merkle tree census (compatible with ",(0,o.kt)("a",{parentName:"p",href:"https://vocdoni.io/"},"Vocdoni"),") with those holders, using their balances as vote weights."),(0,o.kt)("p",null,"More information about Census3 can be found ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vocdoni/census3"},"here"),"."),(0,o.kt)("h3",{id:"using-census3"},"Using Census3"),(0,o.kt)("p",null,"The SDK comes with an implementation of the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vocdoni/census3/blob/main/api/README.md"},"Census3 API"),"."),(0,o.kt)("h4",{id:"creating-a-census3-client"},"Creating a Census3 client"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const client = new VocdoniCensus3Client({\n  env: EnvOptions.DEV // dev environment\n})\n")),(0,o.kt)("h4",{id:"getting-basic-service-information"},"Getting basic service information"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'// Get the supported chains\nconst supportedChains = await client.getSupportedChains();\n// [\n//     {\n//     "chainID": 1,\n//     "shortName": "eth",\n//     "name": "Ethereum Mainnet"\n//     }, \n//     {\n//       "chainID": 5,\n//       "shortName": "gor",\n//       "name": "Goerli"\n//     },\n//     {\n//       "chainID": 137,\n//       "shortName": "matic",\n//       "name": "Polygon Mainnet"\n//     },\n//     {\n//       "chainID": 80001,\n//       "shortName": "maticmum",\n//       "name": "Mumbai"\n//     }\n// ]\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'// Get the supported token types\nconst supportedTypes = await client.getSupportedTypes();\n// ["erc20", "erc777", "poap", "unknown", "erc721burned", "erc1155", "nation3", "want", "erc721"]\n')),(0,o.kt)("h4",{id:"getting-tokens-information-and-creating-them"},"Getting tokens information and creating them"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'// Get the supported tokens\nconst supportedTokens = await client.getSupportedTokens();\n// [\n//   {\n//     "ID": "0x0AaCfbeC6a24756c20D41914F2caba817C0d8521",\n//     "type": "erc20",\n//     "decimals": 18,\n//     "startBlock": 10886913,\n//     "symbol": "YAM",\n//     "totalSupply": "",\n//     "name": "YAM",\n//     "status": {\n//       "atBlock": 18565762,\n//       "synced": true,\n//       "progress": 100\n//     },\n//     "size": 14999,\n//     "defaultStrategy": 19,\n//     "chainID": 1,\n//     "chainAddress": "eth:0x0AaCfbeC6a24756c20D41914F2caba817C0d8521"\n//   },\n//   {\n//     "ID": "0x0b38210ea11411557c13457D4dA7dC6ea731B88a",\n//     "type": "erc20",\n//     "decimals": 18,\n//     "startBlock": 11203771,\n//     "symbol": "API3",\n//     "totalSupply": "",\n//     "name": "API3",\n//     "status": {\n//       "atBlock": 18565763,\n//       "synced": true,\n//       "progress": 100\n//     },\n//     "size": 51178,\n//     "defaultStrategy": 8,\n//     "chainID": 1,\n//     "chainAddress": "eth:0x0b38210ea11411557c13457D4dA7dC6ea731B88a"\n//   },\n//   ...\n// ]\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'// Get a token by its ID (address) and chain identifier\nconst token = await client.getToken(\'0x0AaCfbeC6a24756c20D41914F2caba817C0d8521\', 1);\n// {\n//   "ID": "0x0AaCfbeC6a24756c20D41914F2caba817C0d8521",\n//   "type": "erc20",\n//   "decimals": 18,\n//   "startBlock": 10886913,\n//   "symbol": "YAM",\n//   "totalSupply": "15164231312592159866595366",\n//   "name": "YAM",\n//   "status": {\n//     "atBlock": 18565783,\n//     "synced": true,\n//     "progress": 100\n//   },\n//   "size": 14999,\n//   "defaultStrategy": 19,\n//   "chainID": 1,\n//   "chainAddress": "eth:0x0AaCfbeC6a24756c20D41914F2caba817C0d8521",\n//   "tags": []\n// }\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"// Check if a holder is registered for a given token\nconst token = await client.isHolderInToken(\n  '0x0AaCfbeC6a24756c20D41914F2caba817C0d8521', \n  1, \n  '0x111000000000000000000000000000000000dEaD'\n);\n// false\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"// Creates a new token by passing the address, the type and the chain identifier\nconst token = await client.createToken('0xa117000000f279d81a1d3cc75430faa017fa5a2e', 'erc20', 1);\n")),(0,o.kt)("h4",{id:"getting-strategies-information-and-creating-them"},"Getting strategies information and creating them"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'// Get the supported strategies\nconst supportedStrategies = await client.getStrategies();\n// [\n//   {\n//     "ID": 1,\n//     "alias": "Default strategy for token CRV",\n//     "predicate": "CRV",\n//     "uri": "ipfs://bafybeicjqjklqpumewpaue6weg47byz6fwmbg6ozief3w2pgqx7zlwl5ea",\n//     "tokens": {\n//       "CRV": {\n//         "ID": "0xD533a949740bb3306d119CC777fa900bA034cd52",\n//         "chainID": 1,\n//         "minBalance": "0",\n//         "chainAddress": "eth:0xD533a949740bb3306d119CC777fa900bA034cd52"\n//       }\n//     }\n//   },\n//   {\n//     "ID": 2,\n//     "alias": "Default strategy for token UNI",\n//     "predicate": "UNI",\n//     "uri": "ipfs://bafybeiesxbsbvp2agcuolezec6hvimntqdg3w43xs62mecdj2fyeh5anxu",\n//     "tokens": {\n//       "UNI": {\n//         "ID": "0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984",\n//         "chainID": 1,\n//         "minBalance": "0",\n//         "chainAddress": "eth:0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984"\n//       }\n//     }\n//   },\n//   ...\n// ]\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'// Get the supported strategies by token and chain identifier\nconst supportedStrategiesByToken = await client.getStrategiesByToken(\'0x0AaCfbeC6a24756c20D41914F2caba817C0d8521\', 1);\n// [\n//   {\n//     "ID": 19,\n//     "alias": "Default strategy for token YAM",\n//     "predicate": "YAM",\n//     "uri": "ipfs://bafybeicddxfktpcmbkvrflifbod6eeaizfab7l5ijggswnn5jwu3uhv4i4",\n//     "tokens": {\n//       "YAM": {\n//         "ID": "0x0AaCfbeC6a24756c20D41914F2caba817C0d8521",\n//         "chainID": 1,\n//         "minBalance": "0",\n//         "chainAddress": "eth:0x0AaCfbeC6a24756c20D41914F2caba817C0d8521"\n//       }\n//     }\n//   },\n//   {\n//     "ID": 37,\n//     "alias": "testStrategy_1699887257144",\n//     "predicate": "(YAM OR API3) AND 1INCH",\n//     "uri": "ipfs://bafybeic2gw6nb75ledp3jbz46rmdrnti33hgtlm5icfluxn5ol4enqps7i",\n//     "tokens": {\n//       "1INCH": {\n//         "ID": "0x111111111117dC0aa78b770fA6A738034120C302",\n//         "chainID": 1,\n//         "minBalance": "50",\n//         "chainAddress": "eth:0x111111111117dC0aa78b770fA6A738034120C302"\n//       },\n//       "API3": {\n//         "ID": "0x0b38210ea11411557c13457D4dA7dC6ea731B88a",\n//         "chainID": 1,\n//         "minBalance": "0",\n//         "chainAddress": "eth:0x0b38210ea11411557c13457D4dA7dC6ea731B88a"\n//       },\n//       "YAM": {\n//         "ID": "0x0AaCfbeC6a24756c20D41914F2caba817C0d8521",\n//         "chainID": 1,\n//         "minBalance": "10000",\n//         "chainAddress": "eth:0x0AaCfbeC6a24756c20D41914F2caba817C0d8521"\n//       }\n//     }\n//   },\n//   ...\n// ]\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'// Get a strategy on a given identifier\nconst strategy = await client.getStrategy(1);\n// {\n//   "ID": 1,\n//   "alias": "Default strategy for token CRV",\n//   "predicate": "CRV",\n//   "uri": "ipfs://bafybeicjqjklqpumewpaue6weg47byz6fwmbg6ozief3w2pgqx7zlwl5ea",\n//   "tokens": {\n//       "CRV": {\n//         "ID": "0xD533a949740bb3306d119CC777fa900bA034cd52",\n//         "chainID": 1,\n//         "minBalance": "0",\n//         "chainAddress": "eth:0xD533a949740bb3306d119CC777fa900bA034cd52"\n//       }\n//   }\n// }\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'// Get strategy estimation information for creating census\nconst size = await client.getStrategyEstimation(1);\n// {\n//   "size": 5516,\n//   "timeToCreateCensus": 3296,\n//   "accuracy": 100\n// }\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'// Creates a new strategy by passing the alias, the predicate and the tokens information\nconst strategyId = await client.createStrategy(\'test_strategy\', \'(wANT OR ANT) AND USDC\', {\n  "wANT": {\n    "ID": "0x1324",\n    "chainID": 1,\n    "minBalance": "10000"\n  },\n  "ANT": {\n    "ID": "0x1324",\n    "chainID": 5,\n  },\n  "USDC": {\n    "ID": "0x1324",\n    "chainID": 1,\n    "minBalance": "50"\n  },\n});\nconsole.log(strategyId) // strategy identifier\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'// Imports a strategy from IPFS by the given cid\nconst strategy = await client.importStrategy(\'bafybeicjqjklqpumewpaue6weg47byz6fwmbg6ozief3w2pgqx7zlwl5ea\');\n// {\n//   "ID": 1,\n//   "alias": "Default strategy for token CRV",\n//   "predicate": "CRV",\n//   "uri": "ipfs://bafybeicjqjklqpumewpaue6weg47byz6fwmbg6ozief3w2pgqx7zlwl5ea",\n//   "tokens": {\n//       "CRV": {\n//         "ID": "0xD533a949740bb3306d119CC777fa900bA034cd52",\n//         "chainID": 1,\n//         "minBalance": "0",\n//         "chainAddress": "eth:0xD533a949740bb3306d119CC777fa900bA034cd52"\n//       }\n//   }\n// }\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'// Validates a predicate for a strategy and returns the parsed predicate in JSON\nconst validatePredicate = await client.validatePredicate(\'1INCH AND (YAM OR API3)\');\n// {\n//   "result": {\n//   "childs": {\n//     "operator": "AND",\n//       "tokens": [\n//       {\n//         "childs": {\n//           "operator": "OR",\n//           "tokens": [\n//             {\n//               "literal": "YAM"\n//             },\n//             {\n//               "literal": "API3"\n//             }\n//           ]\n//         }\n//       },\n//       {\n//         "literal": "1INCH"\n//       }\n//     ]\n//   }\n// }\n// }\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'// Gets the supported predicate operators\nconst operators = await client.getSupportedOperators();\n// [\n//   {\n//     "description": "AND logical operator that returns the common token holders between symbols with fixed balance to 1",\n//     "tag": "AND"\n//   },\n//   {\n//     "description": "AND:sum logical operator that returns the common token holders between symbols with the sum of their balances on both tokens",\n//     "tag": "AND:sum"\n//   },\n//   {\n//     "description": "AND:mul logical operator that returns the common token holders between symbols with the multiplication of their balances on both tokens",\n//     "tag": "AND:mul"\n//   },\n//   ...\n// ]\n')),(0,o.kt)("h4",{id:"getting-censuses-information-and-creating-them"},"Getting censuses information and creating them"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'// Get the supported censuses by strategy identifier\nconst strategyID = 18;\nconst censusesByStrategy = await client.getCensuses(strategyID);\n// [\n//   {\n//     "ID": 18569955180,\n//     "strategyID": 18,\n//     "merkleRoot": "9b1ac0ed374a66b781a22ec5e1b1382324adc0759662e1e6f85fc87f5a23407e",\n//     "uri": "ipfs://bafybeihwz2mbkkphgs2ni5laymgtfokaskujg2qfqcvoxhkccbdqp6k7ly",\n//     "size": 14999,\n//     "weight": "81637958624197446065983341792",\n//     "anonymous": false\n//   },\n//   {\n//     "ID": 18569991180,\n//     "strategyID": 18,\n//     "merkleRoot": "ab1c003b923c4fec0b24f84893ddda8835fd3990904dc64f06c1fc0eadef402f",\n//     "uri": "ipfs://bafybeig5jrzw7ayxb442evan4pwa4rfksznh3smyt4exyjkubet2u5ldjm",\n//     "size": 14999,\n//     "weight": "653103668993579568527866734336",\n//     "anonymous": false\n//   },\n//   ...\n// ]\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'// Get a census on a given identifier\nconst census = await client.getCensus(18569955180);\n// {\n//   "ID": 18569955180,\n//   "strategyID": 18,\n//   "merkleRoot": "9b1ac0ed374a66b781a22ec5e1b1382324adc0759662e1e6f85fc87f5a23407e",\n//   "uri": "ipfs://bafybeihwz2mbkkphgs2ni5laymgtfokaskujg2qfqcvoxhkccbdqp6k7ly",\n//   "size": 14999,\n//   "weight": "1514939612264202552941935398517220938016694806267744586724593217517874",\n//   "anonymous": false\n// }\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'// Creates a new census by passing the strategy identifier\nconst strategyID = 18;\nconst census = await client.createCensus(strategyID);\n// {\n//   "ID": 18570184180,\n//   "strategyID": 18,\n//   "merkleRoot": "542166dd4757904449e71d5c21058597ab4179f040ee1f9e7dd29eec622ca5ed",\n//   "uri": "ipfs://bafybeifbhmytl6olebkdoas6uftj3ae5akutmji4io6k37ilzu5uli2nle",\n//   "size": 14999,\n//   "weight": "42801802051163230603042274301444096",\n//   "anonymous": false\n// }\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"// Creates a new census by passing the token address, using the default strategy and returns\n// an instance of `TokenCensus` which can be directly used as a census in the Vocdoni chain\nconst census = await client.createTokenCensus('0x0AaCfbeC6a24756c20D41914F2caba817C0d8521', 1);\nconsole.log(typeof census); // TokenCensus\n")),(0,o.kt)("h2",{id:"examples"},"Examples"),(0,o.kt)("p",null,"You can find a ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vocdoni/vocdoni-sdk/blob/main/examples/vite-react-app"},"full featured vite")," application with all the previous\nsteps in the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vocdoni/vocdoni-sdk/blob/main/examples"},"examples")," folder. In that folder you'll also find a\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vocdoni/vocdoni-sdk/blob/main/examples/esm"},"es modules example"),", creating and voting an election process."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/vocdoni/vocdoni-sdk/main/examples/esm/esm.gif",alt:"example-esm demo"})),(0,o.kt)("h2",{id:"docs"},"Docs"),(0,o.kt)("p",null,"You can find the autogenerated docs in our ",(0,o.kt)("a",{parentName:"p",href:"https://developer.vocdoni.io/sdk"},"Developer Portal")," or you\ncan build them following ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vocdoni/vocdoni-sdk/blob/main/docs/README.md"},"this guide"),"."),(0,o.kt)("h2",{id:"license"},"License"),(0,o.kt)("p",null,"This SDK is licensed under the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vocdoni/vocdoni-sdk/blob/main/LICENSE"},"GNU Affero General Public License v3.0"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"Vocdoni API Typescript SDK\nCopyright (C) 2022 Vocdoni Roots MCU\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU Affero General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Affero General Public License for more details.\n\nYou should have received a copy of the GNU Affero General Public License\nalong with this program.  If not, see <https://www.gnu.org/licenses/>.\n")))}p.isMDXComponent=!0}}]);