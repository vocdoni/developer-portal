"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[1011],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,d=r(e,["components","mdxType","originalType","parentName"]),p=c(n),m=o,h=p["".concat(s,".").concat(m)]||p[m]||u[m]||i;return n?a.createElement(h,l(l({ref:t},d),{},{components:n})):a.createElement(h,l({ref:t},d))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,l=new Array(i);l[0]=p;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r.mdxType="string"==typeof e?e:o,l[1]=r;for(var c=2;c<i;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},96350:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>c});var a=n(87462),o=(n(67294),n(3905));const i={},l="Integration Details",r={unversionedId:"sdk/integration-details/integration-details",id:"sdk/integration-details/integration-details",title:"Integration Details",description:"The tutorial covers the basics, but here are some details you'll need to consider when integrating the Vocdoni SDK into your application.",source:"@site/docs/sdk/integration-details/integration-details.md",sourceDirName:"sdk/integration-details",slug:"/sdk/integration-details/",permalink:"/sdk/integration-details/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"SDK Tutorial",permalink:"/sdk/tutorial"},next:{title:"Census Types",permalink:"/sdk/integration-details/census-types/"}},s={},c=[{value:"Vocdoni Tokens",id:"vocdoni-tokens",level:2},{value:"Census Types",id:"census-types",level:2},{value:"Anonymous Voting",id:"anonymous-voting",level:2},{value:"Election Types",id:"election-types",level:2},{value:"Environment",id:"environment",level:2},{value:"Production",id:"production",level:4},{value:"Staging",id:"staging",level:4},{value:"Development",id:"development",level:4},{value:"Election Status",id:"election-status",level:2},{value:"Pause",id:"pause",level:4},{value:"Cancel",id:"cancel",level:4},{value:"End",id:"end",level:4},{value:"Continue",id:"continue",level:4},{value:"Other SDK Tools",id:"other-sdk-tools",level:2},{value:"Generate a random Wallet",id:"generate-a-random-wallet",level:4},{value:"Generate deterministic Wallet from data",id:"generate-deterministic-wallet-from-data",level:4}],d={toc:c};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"integration-details"},"Integration Details"),(0,o.kt)("p",null,"The tutorial covers the basics, but here are some details you'll need to consider when integrating the Vocdoni SDK into your application."),(0,o.kt)("h2",{id:"vocdoni-tokens"},"Vocdoni Tokens"),(0,o.kt)("p",null,"Running voting processes in the production environment requires the use of Vocdoni Tokens. Read the guide ",(0,o.kt)("a",{parentName:"p",href:"integration-details/vocdoni-tokens"},"here"),"."),(0,o.kt)("h2",{id:"census-types"},"Census Types"),(0,o.kt)("p",null,"There are many ways to define a census of voters using the Vocdoni SDK. Each census type has different design considerations and use-cases. Read the guide ",(0,o.kt)("a",{parentName:"p",href:"integration-details/census-types"},"here")),(0,o.kt)("h2",{id:"anonymous-voting"},"Anonymous Voting"),(0,o.kt)("p",null,"Anonymous voting is available in some form with all three census types, with the strongest anonymity being anonymous off-chain Merkle tree elections. Minor modifications are usually necessary to convert censuses to being fully anonymous. Read the section on ",(0,o.kt)("a",{parentName:"p",href:"integration-details/census-types"},"census types")," to see how to enable anonymity."),(0,o.kt)("h2",{id:"election-types"},"Election Types"),(0,o.kt)("p",null,"The Vocdoni ",(0,o.kt)("a",{parentName:"p",href:"/protocol/ballot-protocol"},"Ballot Protocol")," provides a flexible way to define many types of election. Check out ",(0,o.kt)("a",{parentName:"p",href:"/sdk/integration-details/voting-types"},"Voting Types")," for an overview of the possibilities, including ranked-choice, quadratic, weighted, and approval voting."),(0,o.kt)("h2",{id:"environment"},"Environment"),(0,o.kt)("h4",{id:"production"},"Production"),(0,o.kt)("p",null,"This is the environment for any production use cases. This environment is slightly more complicated to use, as it requires the manual use of ",(0,o.kt)("a",{parentName:"p",href:"/sdk/integration-details#vocdoni-tokens"},"Vocdoni Tokens")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const client = new VocdoniSDKClient({\n  env: EnvOptions.PROD, // mandatory, can be 'dev', 'stg', or 'prod'\n  wallet: signer, // optional, the signer used (Metamask, Walletconnect)\n})\n")),(0,o.kt)("h4",{id:"staging"},"Staging"),(0,o.kt)("p",null,"This is the ",(0,o.kt)("strong",{parentName:"p"},"recommended")," environment for most testing use cases, since the\n",(0,o.kt)("inlineCode",{parentName:"p"},"dev")," environment is more subject to blockchain resets and downtimes than\nthe ",(0,o.kt)("inlineCode",{parentName:"p"},"stg")," one."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const client = new VocdoniSDKClient({\n  env: EnvOptions.STG, // mandatory, can be 'dev', 'stg', or 'prod'\n  wallet: signer, // optional, the signer used (Metamask, Walletconnect)\n})\n")),(0,o.kt)("h4",{id:"development"},"Development"),(0,o.kt)("p",null,"This environment is for development testing and is subject to breaking changes and downtime."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const client = new VocdoniSDKClient({\n  env: EnvOptions.DEV, // mandatory, can be 'dev', 'stg', or 'prod'\n  wallet: signer, // optional, the signer used (Metamask, Walletconnect)\n})\n")),(0,o.kt)("h2",{id:"election-status"},"Election Status"),(0,o.kt)("p",null,"Depending on your use case, you may need to pause, cancel, or otherwise pay attention to the state of an election.\n",(0,o.kt)("a",{parentName:"p",href:"/protocol#election-lifecycle-states"},"Election lifecycle states")," details all of the possible statuses an election can have once it has been published to the blockchain."),(0,o.kt)("h4",{id:"pause"},"Pause"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  await client.pauseElection(id)\n  const election = await client.fetchElection(id)\n  console.log(election.status) // Matches ElectionStatus.PAUSED\n})();\n")),(0,o.kt)("h4",{id:"cancel"},"Cancel"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  await client.cancelElection(id)\n  const election = await client.fetchElection(id)\n  console.log(election.status) // Matches ElectionStatus.CANCELED\n})();\n")),(0,o.kt)("h4",{id:"end"},"End"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  await client.endElection(id)\n  const election = await client.fetchElection(id)\n  console.log(election.status) // Matches ElectionStatus.ENDED\n})();\n")),(0,o.kt)("h4",{id:"continue"},"Continue"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"(async () => {\n  await client.continueElection(id)\n  const election = await client.fetchElection(id)\n  console.log(election.status) // Matches ElectionStatus.READY\n})();\n")),(0,o.kt)("h2",{id:"other-sdk-tools"},"Other SDK Tools"),(0,o.kt)("h4",{id:"generate-a-random-wallet"},"Generate a random Wallet"),(0,o.kt)("p",null,"You can use the ",(0,o.kt)("a",{parentName:"p",href:"/sdk/reference/classes/VocdoniSDKClient#generaterandomwallet"},(0,o.kt)("inlineCode",{parentName:"a"},"client.generateRandomWallet"))," function to generate a random Wallet and assign it to the client.\nThis function returns the private key of the Wallet."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const privateKey = client.generateRandomWallet();\nconsole.log(privateKey) // the private key of the wallet\n")),(0,o.kt)("h4",{id:"generate-deterministic-wallet-from-data"},"Generate deterministic Wallet from data"),(0,o.kt)("p",null,"For some cases where the voters don't have custody over an existing Wallet, we can generate a deterministic\nWallet based on arbitrary data, like, for example, the user and hash password from a custom CRM."),(0,o.kt)("p",null,"Here is an example of ",(0,o.kt)("a",{parentName:"p",href:"/sdk/reference/classes/VocdoniSDKClient#generatewalletfromdata"},(0,o.kt)("inlineCode",{parentName:"a"},"client.generateWalletFromData"))," where a Wallet is generated using the username and the hash of the password\nwhich we would use to identify the user in our platform. This Wallet can then be used for the\ncensus and for voting purposes. This enables users to keep the same private key without having to store it in their browser or application."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"// 9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08 is the sha256 of 'test'\nconst userWallet = VocdoniSDKClient.generateWalletFromData(['user1', '9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08']);\nconsole.log(userWallet) // address is 0x8AF1b3EDB817b5854e3311d583905a3421F49829\n")))}u.isMDXComponent=!0}}]);