---
custom_edit_url: null
---

```ts
class VocdoniCensus3Client
```

<div>

</div>

<div className="container">
  <div className="row mb-2"><div className="col col--12"><strong>Methods</strong></div></div>
  <div className="row"><div className="col col--12"><a href="#getSupportedTokens">getSupportedTokens</a><br/><a href="#getSupportedChains">getSupportedChains</a><br/><a href="#getSupportedTypes">getSupportedTypes</a><br/><a href="#getSupportedOperators">getSupportedOperators</a><br/><a href="#getToken">getToken</a><br/><a href="#isHolderInToken">isHolderInToken</a><br/><a href="#tokenHolderBalance">tokenHolderBalance</a><br/><a href="#createToken">createToken</a><br/><a href="#getStrategies">getStrategies</a><br/><a href="#getStrategyHolders">getStrategyHolders</a><br/><a href="#getStrategiesByToken">getStrategiesByToken</a><br/><a href="#getStrategy">getStrategy</a><br/><a href="#getStrategyEstimation">getStrategyEstimation</a><br/><a href="#createStrategy">createStrategy</a><br/><a href="#importStrategy">importStrategy</a><br/><a href="#validatePredicate">validatePredicate</a><br/><a href="#getCensuses">getCensuses</a><br/><a href="#getCensus">getCensus</a><br/><a href="#createCensus">createCensus</a><br/><a href="#createTokenCensus">createTokenCensus</a></div></div>
</div>

## constructor
```ts
new VocdoniCensus3Client(opts)
```

<div>

</div>

Instantiate new VocdoniCensus3 client.<br /><br />To instantiate the client just pass the `ClientOptions` you want or empty object to let defaults.<br /><br />`const client = new VocdoniCensus3Client({EnvOptions.PROD})`

|PARAMETER|TYPE|OPTIONAL|DEFAULT|DESCRIPTION|
|:---:|:---:|:---:|:---:|:---:|
|opts|[ClientOptions](ClientOptions)|||optional arguments|

## Methods

### getSupportedTokens {#getSupportedTokens}

<div>

</div>

Returns a list of summary tokens supported by the service

**Returns**: Promise&lt;Array&lt;TokenSummary&gt;&gt;
- Token summary list

### getSupportedChains {#getSupportedChains}

<div>

</div>

Returns a list of supported chain identifiers

**Returns**: Promise&lt;Array&lt;SupportedChain&gt;&gt;
- Supported chain list

### getSupportedTypes {#getSupportedTypes}

<div>

</div>

Returns a list of supported tokens type

**Returns**: Promise&lt;Array&lt;string&gt;&gt;
- Supported tokens type list

### getSupportedOperators {#getSupportedOperators}

<div>

</div>

Returns a list of supported strategies operators

**Returns**: Promise&lt;Array&lt;SupportedOperator&gt;&gt;
- Supported strategies operators list

### getToken {#getToken}

<div>

</div>

Returns the full token information based on the id (address)

**Returns**: Promise&lt;Token&gt;
- The token information

|PARAMETER|TYPE|OPTIONAL|DEFAULT|DESCRIPTION|
|:---:|:---:|:---:|:---:|:---:|
|id|string|||The id (address) of the token|
|chainId|number|||The id of the chain|
|externalId|string|✔️||The identifier used by external provider|

### isHolderInToken {#isHolderInToken}

<div>

</div>

Returns if the holder ID is already registered in the database as a holder of the token.

**Returns**: Promise&lt;boolean&gt;
- If the holder is in the token

|PARAMETER|TYPE|OPTIONAL|DEFAULT|DESCRIPTION|
|:---:|:---:|:---:|:---:|:---:|
|tokenId|string|||The id (address) of the token|
|chainId|number|||The id of the chain|
|holderId|string|||The identifier of the holder|
|externalId|string|✔️||The identifier used by external provider|

### tokenHolderBalance {#tokenHolderBalance}

<div>

</div>

Returns the balance of the holder based on the token and chain

**Returns**: Promise&lt;bigint&gt;
- The balance of the holder

|PARAMETER|TYPE|OPTIONAL|DEFAULT|DESCRIPTION|
|:---:|:---:|:---:|:---:|:---:|
|tokenId|string|||The id (address) of the token|
|chainId|number|||The id of the chain|
|holderId|string|||The identifier of the holder|
|externalId|string|✔️||The identifier used by external provider|

### createToken {#createToken}

<div>

</div>

Creates a new token to be tracked in the service

**Returns**: Promise&lt;void&gt;

|PARAMETER|TYPE|OPTIONAL|DEFAULT|DESCRIPTION|
|:---:|:---:|:---:|:---:|:---:|
|address|string|||The address of the token|
|type|string|||The type of the token|
|chainId|number|✔️|1|The chain id of the token|
|externalId|string|✔️|""|The identifier used by external provider|
|tags|string|✔️|[]|The tag list to associate the token with|

### getStrategies {#getStrategies}

<div>

</div>

Returns the strategies

**Returns**: Promise&lt;Array&lt;Census3Strategy&gt;&gt;
- The list of strategies

### getStrategyHolders {#getStrategyHolders}

<div>

</div>

Returns the strategy holders

**Returns**: Promise&lt;StrategyHolders&gt;
- The list strategy holders

|PARAMETER|TYPE|OPTIONAL|DEFAULT|DESCRIPTION|
|:---:|:---:|:---:|:---:|:---:|
|id|number|||The id of the strategy|
|pagination|Census3Pagination|✔️|{pageSize: -1}|Pagination options|

### getStrategiesByToken {#getStrategiesByToken}

<div>

</div>

Returns the strategies from the given token

**Returns**: Promise&lt;Array&lt;Census3Strategy&gt;&gt;
- The list of strategies

|PARAMETER|TYPE|OPTIONAL|DEFAULT|DESCRIPTION|
|:---:|:---:|:---:|:---:|:---:|
|id|string|||The id (address) of the token|
|chainId|number|||The id of the chain|
|externalId|string|✔️||The identifier used by external provider|

### getStrategy {#getStrategy}

<div>

</div>

Returns the information of the strategy based on the id

**Returns**: Promise&lt;Strategy&gt;
- The strategy information

|PARAMETER|TYPE|OPTIONAL|DEFAULT|DESCRIPTION|
|:---:|:---:|:---:|:---:|:---:|
|id|number|||The id of the strategy|

### getStrategyEstimation {#getStrategyEstimation}

<div>

</div>

Returns the estimation of size and time (in milliseconds) to create the census generated for the provided strategy

**Returns**: Promise&lt;Strategy&gt;
- The strategy estimation

|PARAMETER|TYPE|OPTIONAL|DEFAULT|DESCRIPTION|
|:---:|:---:|:---:|:---:|:---:|
|id|number|||The id of the strategy|
|anonymous|boolean|✔️|false|If the estimation should be done for anonymous census|

### createStrategy {#createStrategy}

<div>

</div>

Creates a new strategy based on the given tokens and predicate

**Returns**: Promise&lt;number&gt;
- The strategy id

|PARAMETER|TYPE|OPTIONAL|DEFAULT|DESCRIPTION|
|:---:|:---:|:---:|:---:|:---:|
|alias|string|||The alias of the strategy|
|predicate|string|||The predicate of the strategy|
|tokens|{[key: string]: StrategyToken}|||The token list for the strategy|

### importStrategy {#importStrategy}

<div>

</div>

Imports a strategy from IPFS from the given cid.

**Returns**: Promise&lt;Strategy&gt;
- The strategy information

|PARAMETER|TYPE|OPTIONAL|DEFAULT|DESCRIPTION|
|:---:|:---:|:---:|:---:|:---:|
|cid|number|||The IPFS cid of the strategy to import|

### validatePredicate {#validatePredicate}

<div>

</div>

Validates a predicate

**Returns**: Promise&lt;ParsedPredicate&gt;
- The parsed predicate

|PARAMETER|TYPE|OPTIONAL|DEFAULT|DESCRIPTION|
|:---:|:---:|:---:|:---:|:---:|
|predicate|string|||The predicate of the strategy|

### getCensuses {#getCensuses}

<div>

</div>

Returns the census3 censuses

**Returns**: Promise&lt;Array&lt;number&gt;&gt;
- The list of census3 censuses

|PARAMETER|TYPE|OPTIONAL|DEFAULT|DESCRIPTION|
|:---:|:---:|:---:|:---:|:---:|
|strategyId|string|||The strategy identifier|

### getCensus {#getCensus}

<div>

</div>

Returns the census3 census based on the given identifier

**Returns**: Promise&lt;Census3Census&gt;
- The census3 census

|PARAMETER|TYPE|OPTIONAL|DEFAULT|DESCRIPTION|
|:---:|:---:|:---:|:---:|:---:|
|id|number|||The id of the census|

### createCensus {#createCensus}

<div>

</div>

Creates the census based on the given strategy

**Returns**: Promise&lt;Census3Census&gt;
- The census information

|PARAMETER|TYPE|OPTIONAL|DEFAULT|DESCRIPTION|
|:---:|:---:|:---:|:---:|:---:|
|strategyId|number|||The id of the strategy|
|anonymous|boolean|✔️|false|If the census has to be anonymous|

### createTokenCensus {#createTokenCensus}

<div>
  <span className="badge badge--success">async</span>
</div>

Returns the actual census based on the given token using the default strategy set

**Returns**: Promise&lt;[TokenCensus](TokenCensus)&gt;
- The token census

|PARAMETER|TYPE|OPTIONAL|DEFAULT|DESCRIPTION|
|:---:|:---:|:---:|:---:|:---:|
|address|string|||The address of the token|
|chainId|number|||The id of the chain|
|anonymous|boolean|✔️|false|If the census has to be anonymous|
|externalId|string|✔️||The identifier used by external provider|

